interactions:
- request:
    body: null
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: GET
    uri: http://elasticsearch:9200/.watches/_search?size=1000
  response:
    body: {string: '{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no
        such index","resource.type":"index_or_alias","resource.id":".watches","index_uuid":"_na_","index":".watches"}],"type":"index_not_found_exception","reason":"no
        such index","resource.type":"index_or_alias","resource.id":".watches","index_uuid":"_na_","index":".watches"},"status":404}'}
    headers:
      content-length: ['355']
      content-type: [application/json; charset=UTF-8]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Content-Type: [application/json]
      User-Agent: [Swagger-Codegen/4.0.0/python]
    method: GET
    uri: https://192.168.99.100:8443/api/v1/namespaces?labelSelector=watcher%3Denabled
  response:
    body: {string: '{"kind":"NamespaceList","apiVersion":"v1","metadata":{"selfLink":"/api/v1/namespaces","resourceVersion":"3598"},"items":[{"metadata":{"name":"override","selfLink":"/api/v1/namespaces/override","uid":"e7b83fa7-ed7a-11e8-b807-0800273194db","resourceVersion":"1067","creationTimestamp":"2018-11-21T10:47:56Z","labels":{"watcher":"enabled"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"annotations\":{\"watcher.alerts.slack\":\"@michael.override\"},\"labels\":{\"watcher\":\"enabled\"},\"name\":\"override\",\"namespace\":\"\"}}\n","watcher.alerts.slack":"@michael.override"}},"spec":{"finalizers":["kubernetes"]},"status":{"phase":"Active"}},{"metadata":{"name":"test","selfLink":"/api/v1/namespaces/test","uid":"e7bb89f0-ed7a-11e8-b807-0800273194db","resourceVersion":"1072","creationTimestamp":"2018-11-21T10:47:56Z","labels":{"watcher":"enabled"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"annotations\":{},\"labels\":{\"watcher\":\"enabled\"},\"name\":\"test\",\"namespace\":\"\"}}\n"}},"spec":{"finalizers":["kubernetes"]},"status":{"phase":"Active"}}]}

'}
    headers:
      Content-Length: ['1226']
      Content-Type: [application/json]
      Date: ['Wed, 21 Nov 2018 11:15:55 GMT']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Content-Type: [application/json]
      User-Agent: [Swagger-Codegen/4.0.0/python]
    method: GET
    uri: https://192.168.99.100:8443/api/v1/pods?labelSelector=watcher%21%3Ddisabled&watch=False
  response:
    body: {string: '{"kind":"PodList","apiVersion":"v1","metadata":{"selfLink":"/api/v1/pods","resourceVersion":"3598"},"items":[{"metadata":{"name":"disabled-6596b8d75-t88gw","generateName":"disabled-6596b8d75-","namespace":"disabled","selfLink":"/api/v1/namespaces/disabled/pods/disabled-6596b8d75-t88gw","uid":"e7adddcc-ed7a-11e8-b807-0800273194db","resourceVersion":"1286","creationTimestamp":"2018-11-21T10:47:56Z","labels":{"pod-template-hash":"215264831","run":"disabled"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"disabled-6596b8d75","uid":"e7aabb7f-ed7a-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-qhcdt","secret":{"secretName":"default-token-qhcdt","defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"default-token-qhcdt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:49:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:56Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.6","startTime":"2018-11-21T10:47:56Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2018-11-21T10:49:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:31b8e90a349d1fce7621f5a5a08e4fc519b634f7d3feb09d53fac9b12aa4d991","containerID":"docker://b5a1b2ed9719b803ecb91745cf96027a6dc0d18614023722fff26059daf9f815"}],"qosClass":"BestEffort"}},{"metadata":{"name":"nginx-864ccbb4f8-jrrsj","generateName":"nginx-864ccbb4f8-","namespace":"disabled","selfLink":"/api/v1/namespaces/disabled/pods/nginx-864ccbb4f8-jrrsj","uid":"e7ac01f5-ed7a-11e8-b807-0800273194db","resourceVersion":"1245","creationTimestamp":"2018-11-21T10:47:56Z","labels":{"pod-template-hash":"4207766094","run":"nginx","watcher":"enabled"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"nginx-864ccbb4f8","uid":"e7a7010d-ed7a-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-qhcdt","secret":{"secretName":"default-token-qhcdt","defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"default-token-qhcdt","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:49:04Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:56Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.5","startTime":"2018-11-21T10:47:56Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2018-11-21T10:49:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:31b8e90a349d1fce7621f5a5a08e4fc519b634f7d3feb09d53fac9b12aa4d991","containerID":"docker://c234c3d29c86f5d629ab48520e724809efab884a06e7543142282ed5b904f2ee"}],"qosClass":"BestEffort"}},{"metadata":{"name":"coredns-c4cffd6dc-vqlpq","generateName":"coredns-c4cffd6dc-","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/coredns-c4cffd6dc-vqlpq","uid":"bc0c7e6b-ed79-11e8-b807-0800273194db","resourceVersion":"711","creationTimestamp":"2018-11-21T10:39:33Z","labels":{"k8s-app":"kube-dns","pod-template-hash":"707998287"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"coredns-c4cffd6dc","uid":"bb6d4e30-ed79-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"config-volume","configMap":{"name":"coredns","items":[{"key":"Corefile","path":"Corefile"}],"defaultMode":420}},{"name":"coredns-token-rgw9f","secret":{"secretName":"coredns-token-rgw9f","defaultMode":420}}],"containers":[{"name":"coredns","image":"k8s.gcr.io/coredns:1.2.2","args":["-conf","/etc/coredns/Corefile"],"ports":[{"name":"dns","containerPort":53,"protocol":"UDP"},{"name":"dns-tcp","containerPort":53,"protocol":"TCP"},{"name":"metrics","containerPort":9153,"protocol":"TCP"}],"resources":{"limits":{"memory":"170Mi"},"requests":{"cpu":"100m","memory":"70Mi"}},"volumeMounts":[{"name":"config-volume","readOnly":true,"mountPath":"/etc/coredns"},{"name":"coredns-token-rgw9f","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/health","port":8080,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_BIND_SERVICE"],"drop":["all"]},"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"coredns","serviceAccount":"coredns","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:33Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:43:11Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:33Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.4","startTime":"2018-11-21T10:39:33Z","containerStatuses":[{"name":"coredns","state":{"running":{"startedAt":"2018-11-21T10:43:11Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/coredns:1.2.2","imageID":"docker-pullable://k8s.gcr.io/coredns@sha256:3e2be1cec87aca0b74b7668bbe8c02964a95a402e45ceb51b2252629d608d03a","containerID":"docker://9d009d110ee0a5c5ee41c6394a84caebba2cba869233cb0eb6f578dc27b92ab2"}],"qosClass":"Burstable"}},{"metadata":{"name":"etcd-minikube","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/etcd-minikube","uid":"965a7189-ed79-11e8-b807-0800273194db","resourceVersion":"214","creationTimestamp":"2018-11-21T10:38:30Z","labels":{"component":"etcd","tier":"control-plane"},"annotations":{"kubernetes.io/config.hash":"88fed91d2694e9c5d61ceec5d3d3aeae","kubernetes.io/config.mirror":"88fed91d2694e9c5d61ceec5d3d3aeae","kubernetes.io/config.seen":"2018-11-21T10:33:35.407690325Z","kubernetes.io/config.source":"file","scheduler.alpha.kubernetes.io/critical-pod":""}},"spec":{"volumes":[{"name":"etcd-data","hostPath":{"path":"/data/minikube","type":"DirectoryOrCreate"}},{"name":"etcd-certs","hostPath":{"path":"/var/lib/minikube/certs//etcd","type":"DirectoryOrCreate"}}],"containers":[{"name":"etcd","image":"k8s.gcr.io/etcd-amd64:3.1.12","command":["etcd","--listen-client-urls=https://127.0.0.1:2379","--cert-file=/var/lib/minikube/certs/etcd/server.crt","--peer-cert-file=/var/lib/minikube/certs/etcd/peer.crt","--peer-key-file=/var/lib/minikube/certs/etcd/peer.key","--peer-trusted-ca-file=/var/lib/minikube/certs/etcd/ca.crt","--advertise-client-urls=https://127.0.0.1:2379","--client-cert-auth=true","--peer-client-cert-auth=true","--data-dir=/data/minikube","--key-file=/var/lib/minikube/certs/etcd/server.key","--trusted-ca-file=/var/lib/minikube/certs/etcd/ca.crt"],"resources":{},"volumeMounts":[{"name":"etcd-data","mountPath":"/data/minikube"},{"name":"etcd-certs","mountPath":"/var/lib/minikube/certs//etcd"}],"livenessProbe":{"exec":{"command":["/bin/sh","-ec","ETCDCTL_API=3
        etcdctl --endpoints=127.0.0.1:2379 --cacert=/var/lib/minikube/certs//etcd/ca.crt
        --cert=/var/lib/minikube/certs//etcd/healthcheck-client.crt --key=/var/lib/minikube/certs//etcd/healthcheck-client.key
        get foo"]},"initialDelaySeconds":15,"timeoutSeconds":15,"periodSeconds":10,"successThreshold":1,"failureThreshold":8},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoExecute"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:37:10Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:33:35Z","containerStatuses":[{"name":"etcd","state":{"running":{"startedAt":"2018-11-21T10:37:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/etcd-amd64:3.1.12","imageID":"docker-pullable://k8s.gcr.io/etcd-amd64@sha256:68235934469f3bc58917bcf7018bf0d3b72129e6303b0bef28186d96b2259317","containerID":"docker://4fdf6063809e44fcf53b6aae6a0a14cce81946309ae65527ff09308a5da476ad"}],"qosClass":"BestEffort"}},{"metadata":{"name":"kube-addon-manager-minikube","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kube-addon-manager-minikube","uid":"b98575ad-ed79-11e8-b807-0800273194db","resourceVersion":"447","creationTimestamp":"2018-11-21T10:39:29Z","labels":{"component":"kube-addon-manager","kubernetes.io/minikube-addons":"addon-manager","version":"v8.6"},"annotations":{"kubernetes.io/config.hash":"8b52f08746ac78d32737b5f7fdffec52","kubernetes.io/config.mirror":"8b52f08746ac78d32737b5f7fdffec52","kubernetes.io/config.seen":"2018-11-21T10:33:35.407688954Z","kubernetes.io/config.source":"file"}},"spec":{"volumes":[{"name":"addons","hostPath":{"path":"/etc/kubernetes/","type":""}},{"name":"kubeconfig","hostPath":{"path":"/var/lib/minikube/","type":""}}],"containers":[{"name":"kube-addon-manager","image":"k8s.gcr.io/kube-addon-manager:v8.6","env":[{"name":"KUBECONFIG","value":"/var/lib/minikube/kubeconfig"}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"addons","readOnly":true,"mountPath":"/etc/kubernetes/"},{"name":"kubeconfig","readOnly":true,"mountPath":"/var/lib/minikube/"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoExecute"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:35:47Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:33:35Z","containerStatuses":[{"name":"kube-addon-manager","state":{"running":{"startedAt":"2018-11-21T10:35:46Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/kube-addon-manager:v8.6","imageID":"docker-pullable://k8s.gcr.io/kube-addon-manager@sha256:3519273916ba45cfc9b318448d4629819cb5fbccbb0822cce054dd8c1f68cb60","containerID":"docker://d51ea888573888fc37998faf99dd473ec642e1db1574edde04b620ef5c0b62a2"}],"qosClass":"Burstable"}},{"metadata":{"name":"kube-apiserver-minikube","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kube-apiserver-minikube","uid":"b428b238-ed79-11e8-b807-0800273194db","resourceVersion":"307","creationTimestamp":"2018-11-21T10:39:20Z","labels":{"component":"kube-apiserver","tier":"control-plane"},"annotations":{"kubernetes.io/config.hash":"dc14319015d1102727df74158db9cbbc","kubernetes.io/config.mirror":"dc14319015d1102727df74158db9cbbc","kubernetes.io/config.seen":"2018-11-21T10:33:35.407691416Z","kubernetes.io/config.source":"file","scheduler.alpha.kubernetes.io/critical-pod":""}},"spec":{"volumes":[{"name":"k8s-certs","hostPath":{"path":"/var/lib/minikube/certs/","type":"DirectoryOrCreate"}},{"name":"ca-certs","hostPath":{"path":"/etc/ssl/certs","type":"DirectoryOrCreate"}}],"containers":[{"name":"kube-apiserver","image":"k8s.gcr.io/kube-apiserver-amd64:v1.10.0","command":["kube-apiserver","--admission-control=Initializers,NamespaceLifecycle,LimitRanger,ServiceAccount,DefaultStorageClass,DefaultTolerationSeconds,NodeRestriction,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,ResourceQuota","--tls-cert-file=/var/lib/minikube/certs/apiserver.crt","--requestheader-client-ca-file=/var/lib/minikube/certs/front-proxy-ca.crt","--requestheader-extra-headers-prefix=X-Remote-Extra-","--requestheader-allowed-names=front-proxy-client","--service-account-key-file=/var/lib/minikube/certs/sa.pub","--secure-port=8443","--proxy-client-cert-file=/var/lib/minikube/certs/front-proxy-client.crt","--allow-privileged=true","--requestheader-username-headers=X-Remote-User","--proxy-client-key-file=/var/lib/minikube/certs/front-proxy-client.key","--insecure-port=0","--enable-bootstrap-token-auth=true","--service-cluster-ip-range=10.96.0.0/12","--client-ca-file=/var/lib/minikube/certs/ca.crt","--tls-private-key-file=/var/lib/minikube/certs/apiserver.key","--kubelet-client-certificate=/var/lib/minikube/certs/apiserver-kubelet-client.crt","--kubelet-client-key=/var/lib/minikube/certs/apiserver-kubelet-client.key","--kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname","--requestheader-group-headers=X-Remote-Group","--advertise-address=192.168.99.100","--authorization-mode=Node,RBAC","--etcd-servers=https://127.0.0.1:2379","--etcd-cafile=/var/lib/minikube/certs/etcd/ca.crt","--etcd-certfile=/var/lib/minikube/certs/apiserver-etcd-client.crt","--etcd-keyfile=/var/lib/minikube/certs/apiserver-etcd-client.key"],"resources":{"requests":{"cpu":"250m"}},"volumeMounts":[{"name":"k8s-certs","readOnly":true,"mountPath":"/var/lib/minikube/certs/"},{"name":"ca-certs","readOnly":true,"mountPath":"/etc/ssl/certs"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":8443,"host":"192.168.99.100","scheme":"HTTPS"},"initialDelaySeconds":15,"timeoutSeconds":15,"periodSeconds":10,"successThreshold":1,"failureThreshold":8},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoExecute"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:38:08Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:33:35Z","containerStatuses":[{"name":"kube-apiserver","state":{"running":{"startedAt":"2018-11-21T10:38:07Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/kube-apiserver-amd64:v1.10.0","imageID":"docker-pullable://k8s.gcr.io/kube-apiserver-amd64@sha256:8b7a675c6fdda0469e971e5b1f3e902bb71c36396faf506f1511052705a5b0ee","containerID":"docker://ee3c91f2b4abb07fbfe6482b0f3348280ba30ce8817500641ff84688a182b0b3"}],"qosClass":"Burstable"}},{"metadata":{"name":"kube-controller-manager-minikube","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kube-controller-manager-minikube","uid":"b44274c9-ed79-11e8-b807-0800273194db","resourceVersion":"255","creationTimestamp":"2018-11-21T10:39:20Z","labels":{"component":"kube-controller-manager","tier":"control-plane"},"annotations":{"kubernetes.io/config.hash":"64239f1cdb99165b8d749e00130e27c6","kubernetes.io/config.mirror":"64239f1cdb99165b8d749e00130e27c6","kubernetes.io/config.seen":"2018-11-21T10:33:35.407692282Z","kubernetes.io/config.source":"file","scheduler.alpha.kubernetes.io/critical-pod":""}},"spec":{"volumes":[{"name":"k8s-certs","hostPath":{"path":"/var/lib/minikube/certs/","type":"DirectoryOrCreate"}},{"name":"ca-certs","hostPath":{"path":"/etc/ssl/certs","type":"DirectoryOrCreate"}},{"name":"kubeconfig","hostPath":{"path":"/etc/kubernetes/controller-manager.conf","type":"FileOrCreate"}}],"containers":[{"name":"kube-controller-manager","image":"k8s.gcr.io/kube-controller-manager-amd64:v1.10.0","command":["kube-controller-manager","--use-service-account-credentials=true","--kubeconfig=/etc/kubernetes/controller-manager.conf","--service-account-private-key-file=/var/lib/minikube/certs/sa.key","--cluster-signing-cert-file=/var/lib/minikube/certs/ca.crt","--cluster-signing-key-file=/var/lib/minikube/certs/ca.key","--address=127.0.0.1","--leader-elect=true","--controllers=*,bootstrapsigner,tokencleaner","--root-ca-file=/var/lib/minikube/certs/ca.crt"],"resources":{"requests":{"cpu":"200m"}},"volumeMounts":[{"name":"k8s-certs","readOnly":true,"mountPath":"/var/lib/minikube/certs/"},{"name":"ca-certs","readOnly":true,"mountPath":"/etc/ssl/certs"},{"name":"kubeconfig","readOnly":true,"mountPath":"/etc/kubernetes/controller-manager.conf"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":10252,"host":"127.0.0.1","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":15,"periodSeconds":10,"successThreshold":1,"failureThreshold":8},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoExecute"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:20Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:33:35Z","containerStatuses":[{"name":"kube-controller-manager","state":{"running":{"startedAt":"2018-11-21T10:39:20Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/kube-controller-manager-amd64:v1.10.0","imageID":"docker-pullable://k8s.gcr.io/kube-controller-manager-amd64@sha256:ab637b1f4700e0cc83d3ae3c5368919eb8f6199485adcc126fd306481df56fec","containerID":"docker://29e6a1a439421bbac05297412a0c52c35a475ee9d1c2216940f20ec40f7219b2"}],"qosClass":"Burstable"}},{"metadata":{"name":"kube-dns-86f4d74b45-p97f9","generateName":"kube-dns-86f4d74b45-","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kube-dns-86f4d74b45-p97f9","uid":"b8abf259-ed79-11e8-b807-0800273194db","resourceVersion":"801","creationTimestamp":"2018-11-21T10:39:27Z","labels":{"k8s-app":"kube-dns","pod-template-hash":"4290830601"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"kube-dns-86f4d74b45","uid":"b89faca0-ed79-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"kube-dns-config","configMap":{"name":"kube-dns","defaultMode":420,"optional":true}},{"name":"kube-dns-token-dsmkf","secret":{"secretName":"kube-dns-token-dsmkf","defaultMode":420}}],"containers":[{"name":"kubedns","image":"k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.8","args":["--domain=cluster.local.","--dns-port=10053","--config-dir=/kube-dns-config","--v=2"],"ports":[{"name":"dns-local","containerPort":10053,"protocol":"UDP"},{"name":"dns-tcp-local","containerPort":10053,"protocol":"TCP"},{"name":"metrics","containerPort":10055,"protocol":"TCP"}],"env":[{"name":"PROMETHEUS_PORT","value":"10055"}],"resources":{"limits":{"memory":"170Mi"},"requests":{"cpu":"100m","memory":"70Mi"}},"volumeMounts":[{"name":"kube-dns-config","mountPath":"/kube-dns-config"},{"name":"kube-dns-token-dsmkf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthcheck/kubedns","port":10054,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"readinessProbe":{"httpGet":{"path":"/readiness","port":8081,"scheme":"HTTP"},"initialDelaySeconds":3,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"dnsmasq","image":"k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.8","args":["-v=2","-logtostderr","-configDir=/etc/k8s/dns/dnsmasq-nanny","-restartDnsmasq=true","--","-k","--cache-size=1000","--no-negcache","--log-facility=-","--server=/cluster.local/127.0.0.1#10053","--server=/in-addr.arpa/127.0.0.1#10053","--server=/ip6.arpa/127.0.0.1#10053"],"ports":[{"name":"dns","containerPort":53,"protocol":"UDP"},{"name":"dns-tcp","containerPort":53,"protocol":"TCP"}],"resources":{"requests":{"cpu":"150m","memory":"20Mi"}},"volumeMounts":[{"name":"kube-dns-config","mountPath":"/etc/k8s/dns/dnsmasq-nanny"},{"name":"kube-dns-token-dsmkf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthcheck/dnsmasq","port":10054,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"sidecar","image":"k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.8","args":["--v=2","--logtostderr","--probe=kubedns,127.0.0.1:10053,kubernetes.default.svc.cluster.local,5,SRV","--probe=dnsmasq,127.0.0.1:53,kubernetes.default.svc.cluster.local,5,SRV"],"ports":[{"name":"metrics","containerPort":10054,"protocol":"TCP"}],"resources":{"requests":{"cpu":"10m","memory":"20Mi"}},"volumeMounts":[{"name":"kube-dns-token-dsmkf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/metrics","port":10054,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"kube-dns","serviceAccount":"kube-dns","nodeName":"minikube","securityContext":{},"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"beta.kubernetes.io/arch","operator":"In","values":["amd64"]}]}]}}},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:28Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:44:22Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:28Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.2","startTime":"2018-11-21T10:39:28Z","containerStatuses":[{"name":"dnsmasq","state":{"running":{"startedAt":"2018-11-21T10:43:47Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64:1.14.8","imageID":"docker-pullable://k8s.gcr.io/k8s-dns-dnsmasq-nanny-amd64@sha256:93c827f018cf3322f1ff2aa80324a0306048b0a69bc274e423071fb0d2d29d8b","containerID":"docker://466b4dc4c9f1570343d71dcfa73e52fabe4cdf22e07d6af8181f1b287f9f7883"},{"name":"kubedns","state":{"running":{"startedAt":"2018-11-21T10:40:46Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/k8s-dns-kube-dns-amd64:1.14.8","imageID":"docker-pullable://k8s.gcr.io/k8s-dns-kube-dns-amd64@sha256:6d8e0da4fb46e9ea2034a3f4cab0e095618a2ead78720c12e791342738e5f85d","containerID":"docker://275398297d41f039b85e1a146a457fe2f8e479087787f3e63780bee6c4a22e0d"},{"name":"sidecar","state":{"running":{"startedAt":"2018-11-21T10:44:14Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/k8s-dns-sidecar-amd64:1.14.8","imageID":"docker-pullable://k8s.gcr.io/k8s-dns-sidecar-amd64@sha256:23df717980b4aa08d2da6c4cfa327f1b730d92ec9cf740959d2d5911830d82fb","containerID":"docker://bc73c8d487c6d89fc353dc4518d8029bb216f5ac959c769ab1213f1b5fe355eb"}],"qosClass":"Burstable"}},{"metadata":{"name":"kube-proxy-f8lxx","generateName":"kube-proxy-","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kube-proxy-f8lxx","uid":"b8ef027a-ed79-11e8-b807-0800273194db","resourceVersion":"497","creationTimestamp":"2018-11-21T10:39:28Z","labels":{"controller-revision-hash":"1193416634","k8s-app":"kube-proxy","pod-template-generation":"1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"kube-proxy","uid":"935bff2f-ed79-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"kube-proxy","configMap":{"name":"kube-proxy","defaultMode":420}},{"name":"xtables-lock","hostPath":{"path":"/run/xtables.lock","type":"FileOrCreate"}},{"name":"lib-modules","hostPath":{"path":"/lib/modules","type":""}},{"name":"kube-proxy-token-z2gfd","secret":{"secretName":"kube-proxy-token-z2gfd","defaultMode":420}}],"containers":[{"name":"kube-proxy","image":"k8s.gcr.io/kube-proxy-amd64:v1.10.0","command":["/usr/local/bin/kube-proxy","--config=/var/lib/kube-proxy/config.conf"],"resources":{},"volumeMounts":[{"name":"kube-proxy","mountPath":"/var/lib/kube-proxy"},{"name":"xtables-lock","mountPath":"/run/xtables.lock"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"kube-proxy-token-z2gfd","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"kube-proxy","serviceAccount":"kube-proxy","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"},{"key":"node.cloudprovider.kubernetes.io/uninitialized","value":"true","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:28Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:40:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:28Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:39:28Z","containerStatuses":[{"name":"kube-proxy","state":{"running":{"startedAt":"2018-11-21T10:40:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/kube-proxy-amd64:v1.10.0","imageID":"docker-pullable://k8s.gcr.io/kube-proxy-amd64@sha256:fc944b06c14cb442916045a630d5e374dfb9c453dfc56d3cb59ac21ea4268875","containerID":"docker://545e3abf3acee9fc27ee6e53784b1f635aa7bcbb762b970fe88b1779ecdfcca5"}],"qosClass":"BestEffort"}},{"metadata":{"name":"kube-scheduler-minikube","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kube-scheduler-minikube","uid":"936074e0-ed79-11e8-b807-0800273194db","resourceVersion":"213","creationTimestamp":"2018-11-21T10:38:25Z","labels":{"component":"kube-scheduler","tier":"control-plane"},"annotations":{"kubernetes.io/config.hash":"31cf0ccbee286239d451edb6fb511513","kubernetes.io/config.mirror":"31cf0ccbee286239d451edb6fb511513","kubernetes.io/config.seen":"2018-11-21T10:33:35.40768436Z","kubernetes.io/config.source":"file","scheduler.alpha.kubernetes.io/critical-pod":""}},"spec":{"volumes":[{"name":"kubeconfig","hostPath":{"path":"/etc/kubernetes/scheduler.conf","type":"FileOrCreate"}}],"containers":[{"name":"kube-scheduler","image":"k8s.gcr.io/kube-scheduler-amd64:v1.10.0","command":["kube-scheduler","--address=127.0.0.1","--leader-elect=true","--kubeconfig=/etc/kubernetes/scheduler.conf"],"resources":{"requests":{"cpu":"100m"}},"volumeMounts":[{"name":"kubeconfig","readOnly":true,"mountPath":"/etc/kubernetes/scheduler.conf"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":10251,"host":"127.0.0.1","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":15,"periodSeconds":10,"successThreshold":1,"failureThreshold":8},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoExecute"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:34:50Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:33:35Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:33:35Z","containerStatuses":[{"name":"kube-scheduler","state":{"running":{"startedAt":"2018-11-21T10:34:50Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/kube-scheduler-amd64:v1.10.0","imageID":"docker-pullable://k8s.gcr.io/kube-scheduler-amd64@sha256:4670717a1c092680dc0ac018dc36f991e06ffbee6b6bafba9a2968d7bebe7800","containerID":"docker://ff5341f7e43290e4da7f21a8417af7155a566769b97d4ce7af73b631d4235ce1"}],"qosClass":"Burstable"}},{"metadata":{"name":"kubernetes-dashboard-6f4cfc5d87-cz6ps","generateName":"kubernetes-dashboard-6f4cfc5d87-","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/kubernetes-dashboard-6f4cfc5d87-cz6ps","uid":"bb7a3f12-ed79-11e8-b807-0800273194db","resourceVersion":"622","creationTimestamp":"2018-11-21T10:39:32Z","labels":{"addonmanager.kubernetes.io/mode":"Reconcile","app":"kubernetes-dashboard","pod-template-hash":"2907971843","version":"v1.10.0"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"kubernetes-dashboard-6f4cfc5d87","uid":"bb799e29-ed79-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-8v5b6","secret":{"secretName":"default-token-8v5b6","defaultMode":420}}],"containers":[{"name":"kubernetes-dashboard","image":"k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.0","ports":[{"containerPort":9090,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"default-token-8v5b6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/","port":9090,"scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":30,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:32Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:42:01Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:32Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.3","startTime":"2018-11-21T10:39:32Z","containerStatuses":[{"name":"kubernetes-dashboard","state":{"running":{"startedAt":"2018-11-21T10:42:00Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.0","imageID":"docker-pullable://k8s.gcr.io/kubernetes-dashboard-amd64@sha256:1d2e1229a918f4bc38b5a3f9f5f11302b3e71f8397b492afac7f273a0008776a","containerID":"docker://510d39fbb3c9a0dfe86147330920040e8b94f841bcf3afa6320b6fdca079a8ce"}],"qosClass":"BestEffort"}},{"metadata":{"name":"metricbeat-5dd6fb7679-fbrzl","generateName":"metricbeat-5dd6fb7679-","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/metricbeat-5dd6fb7679-fbrzl","uid":"e8e5517e-ed7a-11e8-b807-0800273194db","resourceVersion":"1480","creationTimestamp":"2018-11-21T10:47:58Z","labels":{"k8s-app":"metricbeat","pod-template-hash":"1882963235"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"metricbeat-5dd6fb7679","uid":"e835c81d-ed7a-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"config","configMap":{"name":"metricbeat-deployment-config","defaultMode":384}},{"name":"modules","configMap":{"name":"metricbeat-deployment-modules","defaultMode":384}},{"name":"metricbeat-token-9bt4w","secret":{"secretName":"metricbeat-token-9bt4w","defaultMode":420}}],"containers":[{"name":"metricbeat","image":"docker.elastic.co/beats/metricbeat:6.5.0","args":["-c","/etc/metricbeat.yml","-e"],"env":[{"name":"ELASTICSEARCH_HOST","value":"elasticsearch"},{"name":"ELASTICSEARCH_PORT","value":"9200"},{"name":"ELASTICSEARCH_USERNAME","value":"elastic"},{"name":"ELASTICSEARCH_PASSWORD","value":"changeme"},{"name":"ELASTIC_CLOUD_ID"},{"name":"ELASTIC_CLOUD_AUTH"},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{"limits":{"memory":"200Mi"},"requests":{"cpu":"100m","memory":"100Mi"}},"volumeMounts":[{"name":"config","readOnly":true,"mountPath":"/etc/metricbeat.yml","subPath":"metricbeat.yml"},{"name":"modules","readOnly":true,"mountPath":"/usr/share/metricbeat/modules.d"},{"name":"metricbeat-token-9bt4w","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"runAsUser":0}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirstWithHostNet","serviceAccountName":"metricbeat","serviceAccount":"metricbeat","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:58Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:52:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:58Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:47:58Z","containerStatuses":[{"name":"metricbeat","state":{"running":{"startedAt":"2018-11-21T10:52:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.elastic.co/beats/metricbeat:6.5.0","imageID":"docker-pullable://docker.elastic.co/beats/metricbeat@sha256:9f827c19bd7d48b2833b05d84bf85cf5427efa5601fc4b826593d4a8055775da","containerID":"docker://3d5db1aeb96632fab787bea711367e5951f43c2ea7826f71f63b6dceb19ff3f0"}],"qosClass":"Burstable"}},{"metadata":{"name":"metricbeat-6x9r5","generateName":"metricbeat-","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/metricbeat-6x9r5","uid":"e8e9b0b1-ed7a-11e8-b807-0800273194db","resourceVersion":"1493","creationTimestamp":"2018-11-21T10:47:58Z","labels":{"controller-revision-hash":"3606532435","k8s-app":"metricbeat","pod-template-generation":"1"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"metricbeat","uid":"e829101c-ed7a-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"proc","hostPath":{"path":"/proc","type":""}},{"name":"cgroup","hostPath":{"path":"/sys/fs/cgroup","type":""}},{"name":"dockersock","hostPath":{"path":"/var/run/docker.sock","type":""}},{"name":"config","configMap":{"name":"metricbeat-daemonset-config","defaultMode":384}},{"name":"modules","configMap":{"name":"metricbeat-daemonset-modules","defaultMode":384}},{"name":"data","hostPath":{"path":"/var/lib/metricbeat-data","type":"DirectoryOrCreate"}},{"name":"metricbeat-token-9bt4w","secret":{"secretName":"metricbeat-token-9bt4w","defaultMode":420}}],"containers":[{"name":"metricbeat","image":"docker.elastic.co/beats/metricbeat:6.5.0","args":["-c","/etc/metricbeat.yml","-e","-system.hostfs=/hostfs"],"env":[{"name":"ELASTICSEARCH_HOST","value":"elasticsearch"},{"name":"ELASTICSEARCH_PORT","value":"9200"},{"name":"ELASTICSEARCH_USERNAME","value":"elastic"},{"name":"ELASTICSEARCH_PASSWORD","value":"changeme"},{"name":"ELASTIC_CLOUD_ID"},{"name":"ELASTIC_CLOUD_AUTH"},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{"limits":{"memory":"200Mi"},"requests":{"cpu":"100m","memory":"100Mi"}},"volumeMounts":[{"name":"config","readOnly":true,"mountPath":"/etc/metricbeat.yml","subPath":"metricbeat.yml"},{"name":"modules","readOnly":true,"mountPath":"/usr/share/metricbeat/modules.d"},{"name":"dockersock","mountPath":"/var/run/docker.sock"},{"name":"proc","readOnly":true,"mountPath":"/hostfs/proc"},{"name":"cgroup","readOnly":true,"mountPath":"/hostfs/sys/fs/cgroup"},{"name":"metricbeat-token-9bt4w","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"runAsUser":0}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirstWithHostNet","serviceAccountName":"metricbeat","serviceAccount":"metricbeat","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:58Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:52:24Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:58Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:47:58Z","containerStatuses":[{"name":"metricbeat","state":{"running":{"startedAt":"2018-11-21T10:52:24Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.elastic.co/beats/metricbeat:6.5.0","imageID":"docker-pullable://docker.elastic.co/beats/metricbeat@sha256:9f827c19bd7d48b2833b05d84bf85cf5427efa5601fc4b826593d4a8055775da","containerID":"docker://1a5114b63712d2465bdbfd99e4e3ebd867f2619f4dfd1b12ecc09c265a79f787"}],"qosClass":"Burstable"}},{"metadata":{"name":"storage-provisioner","namespace":"kube-system","selfLink":"/api/v1/namespaces/kube-system/pods/storage-provisioner","uid":"bb8fc8cb-ed79-11e8-b807-0800273194db","resourceVersion":"673","creationTimestamp":"2018-11-21T10:39:32Z","labels":{"addonmanager.kubernetes.io/mode":"Reconcile","integration-test":"storage-provisioner"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"addonmanager.kubernetes.io/mode\":\"Reconcile\",\"integration-test\":\"storage-provisioner\"},\"name\":\"storage-provisioner\",\"namespace\":\"kube-system\"},\"spec\":{\"containers\":[{\"command\":[\"/storage-provisioner\"],\"image\":\"gcr.io/k8s-minikube/storage-provisioner:v1.8.1\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"storage-provisioner\",\"volumeMounts\":[{\"mountPath\":\"/tmp\",\"name\":\"tmp\"}]}],\"hostNetwork\":true,\"serviceAccountName\":\"storage-provisioner\",\"volumes\":[{\"hostPath\":{\"path\":\"/tmp\",\"type\":\"Directory\"},\"name\":\"tmp\"}]}}\n"}},"spec":{"volumes":[{"name":"tmp","hostPath":{"path":"/tmp","type":"Directory"}},{"name":"storage-provisioner-token-tq97z","secret":{"secretName":"storage-provisioner-token-tq97z","defaultMode":420}}],"containers":[{"name":"storage-provisioner","image":"gcr.io/k8s-minikube/storage-provisioner:v1.8.1","command":["/storage-provisioner"],"resources":{},"volumeMounts":[{"name":"tmp","mountPath":"/tmp"},{"name":"storage-provisioner-token-tq97z","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"storage-provisioner","serviceAccount":"storage-provisioner","nodeName":"minikube","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:32Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:42:41Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:39:32Z"}],"hostIP":"10.0.2.15","podIP":"10.0.2.15","startTime":"2018-11-21T10:39:32Z","containerStatuses":[{"name":"storage-provisioner","state":{"running":{"startedAt":"2018-11-21T10:42:41Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/k8s-minikube/storage-provisioner:v1.8.1","imageID":"docker-pullable://gcr.io/k8s-minikube/storage-provisioner@sha256:088daa9fcbccf04c3f415d77d5a6360d2803922190b675cb7fc88a9d2d91985a","containerID":"docker://5eb8bb7cba1bc4109b180e0b26e9008ec65c5e56e6278e4917987f212349842a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"hello-1542798780-mlrxr","generateName":"hello-1542798780-","namespace":"test","selfLink":"/api/v1/namespaces/test/pods/hello-1542798780-mlrxr","uid":"692081e6-ed7e-11e8-b807-0800273194db","resourceVersion":"3368","creationTimestamp":"2018-11-21T11:13:02Z","labels":{"controller-uid":"691e122a-ed7e-11e8-b807-0800273194db","job-name":"hello-1542798780"},"ownerReferences":[{"apiVersion":"batch/v1","kind":"Job","name":"hello-1542798780","uid":"691e122a-ed7e-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-lz5b8","secret":{"secretName":"default-token-lz5b8","defaultMode":420}}],"containers":[{"name":"hello","image":"hello-world","resources":{},"volumeMounts":[{"name":"default-token-lz5b8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"OnFailure","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Succeeded","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:13:02Z","reason":"PodCompleted"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:13:02Z","reason":"PodCompleted"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:13:02Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.9","startTime":"2018-11-21T11:13:02Z","containerStatuses":[{"name":"hello","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2018-11-21T11:13:15Z","finishedAt":"2018-11-21T11:13:15Z","containerID":"docker://7fadc34f0deee7ffd04e6e2b5c97602cd699a775668eab97d64da707f4e8312a"}},"lastState":{},"ready":false,"restartCount":0,"image":"hello-world:latest","imageID":"docker-pullable://hello-world@sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788","containerID":"docker://7fadc34f0deee7ffd04e6e2b5c97602cd699a775668eab97d64da707f4e8312a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"hello-1542798840-c5qtt","generateName":"hello-1542798840-","namespace":"test","selfLink":"/api/v1/namespaces/test/pods/hello-1542798840-c5qtt","uid":"8cfc71a9-ed7e-11e8-b807-0800273194db","resourceVersion":"3456","creationTimestamp":"2018-11-21T11:14:02Z","labels":{"controller-uid":"8cfa31c0-ed7e-11e8-b807-0800273194db","job-name":"hello-1542798840"},"ownerReferences":[{"apiVersion":"batch/v1","kind":"Job","name":"hello-1542798840","uid":"8cfa31c0-ed7e-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-lz5b8","secret":{"secretName":"default-token-lz5b8","defaultMode":420}}],"containers":[{"name":"hello","image":"hello-world","resources":{},"volumeMounts":[{"name":"default-token-lz5b8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"OnFailure","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Succeeded","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:14:02Z","reason":"PodCompleted"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:14:02Z","reason":"PodCompleted"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:14:02Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.9","startTime":"2018-11-21T11:14:02Z","containerStatuses":[{"name":"hello","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2018-11-21T11:14:14Z","finishedAt":"2018-11-21T11:14:14Z","containerID":"docker://6247e07199b49c69140cbb49f3c07fa9f58dd862c1c3449c81a04cf153ffcaee"}},"lastState":{},"ready":false,"restartCount":0,"image":"hello-world:latest","imageID":"docker-pullable://hello-world@sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788","containerID":"docker://6247e07199b49c69140cbb49f3c07fa9f58dd862c1c3449c81a04cf153ffcaee"}],"qosClass":"BestEffort"}},{"metadata":{"name":"hello-1542798900-7lt9k","generateName":"hello-1542798900-","namespace":"test","selfLink":"/api/v1/namespaces/test/pods/hello-1542798900-7lt9k","uid":"b0eb17e8-ed7e-11e8-b807-0800273194db","resourceVersion":"3546","creationTimestamp":"2018-11-21T11:15:02Z","labels":{"controller-uid":"b0e7e207-ed7e-11e8-b807-0800273194db","job-name":"hello-1542798900"},"ownerReferences":[{"apiVersion":"batch/v1","kind":"Job","name":"hello-1542798900","uid":"b0e7e207-ed7e-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-lz5b8","secret":{"secretName":"default-token-lz5b8","defaultMode":420}}],"containers":[{"name":"hello","image":"hello-world","resources":{},"volumeMounts":[{"name":"default-token-lz5b8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"OnFailure","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Succeeded","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:15:02Z","reason":"PodCompleted"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:15:02Z","reason":"PodCompleted"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T11:15:02Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.9","startTime":"2018-11-21T11:15:02Z","containerStatuses":[{"name":"hello","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2018-11-21T11:15:16Z","finishedAt":"2018-11-21T11:15:16Z","containerID":"docker://3ce359bc1d2a11ddb5962afd86931c4169e73763ebfc9f5210a27abc87ea04fb"}},"lastState":{},"ready":false,"restartCount":0,"image":"hello-world:latest","imageID":"docker-pullable://hello-world@sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788","containerID":"docker://3ce359bc1d2a11ddb5962afd86931c4169e73763ebfc9f5210a27abc87ea04fb"}],"qosClass":"BestEffort"}},{"metadata":{"name":"nginx-65899c769f-mdsn5","generateName":"nginx-65899c769f-","namespace":"test","selfLink":"/api/v1/namespaces/test/pods/nginx-65899c769f-mdsn5","uid":"e85ec07f-ed7a-11e8-b807-0800273194db","resourceVersion":"1303","creationTimestamp":"2018-11-21T10:47:57Z","labels":{"pod-template-hash":"2145573259","run":"nginx"},"ownerReferences":[{"apiVersion":"extensions/v1beta1","kind":"ReplicaSet","name":"nginx-65899c769f","uid":"e7c0647d-ed7a-11e8-b807-0800273194db","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-lz5b8","secret":{"secretName":"default-token-lz5b8","defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"default-token-lz5b8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:57Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:49:42Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:57Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.8","startTime":"2018-11-21T10:47:57Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2018-11-21T10:49:41Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:31b8e90a349d1fce7621f5a5a08e4fc519b634f7d3feb09d53fac9b12aa4d991","containerID":"docker://82c613154d6a0ba1570609a660cfba992ed13013abc2f21d32aa71293caa8a45"}],"qosClass":"BestEffort"}},{"metadata":{"name":"nginx-pod","namespace":"test","selfLink":"/api/v1/namespaces/test/pods/nginx-pod","uid":"e7c35798-ed7a-11e8-b807-0800273194db","resourceVersion":"1264","creationTimestamp":"2018-11-21T10:47:56Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"name\":\"nginx-pod\",\"namespace\":\"test\"},\"spec\":{\"containers\":[{\"image\":\"nginx\",\"name\":\"nginx\"}]}}\n"}},"spec":{"volumes":[{"name":"default-token-lz5b8","secret":{"secretName":"default-token-lz5b8","defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"default-token-lz5b8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:49:17Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-11-21T10:47:56Z"}],"hostIP":"10.0.2.15","podIP":"172.17.0.7","startTime":"2018-11-21T10:47:56Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2018-11-21T10:49:16Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:31b8e90a349d1fce7621f5a5a08e4fc519b634f7d3feb09d53fac9b12aa4d991","containerID":"docker://e67ff852cc1b7a587cc14e8f964ab6beea2e40341bdaa7e35a9174a684e5099f"}],"qosClass":"BestEffort"}}]}

'}
    headers:
      Content-Type: [application/json]
      Date: ['Wed, 21 Nov 2018 11:15:56 GMT']
    status: {code: 200, message: OK}
- request:
    body: '{"metadata": {"name": "disabled.nginx", "namespace": "disabled", "regex":
      "nginx-%5B%5E-%5D%2B-%5B%5E-%5D%2B", "kibana_url": "https://kibana.example.com",
      "kibana_dashboard": "", "docs": "", "xpack": {"type": "json"}, "window": "300s"},
      "trigger": {"schedule": {"interval": "30s"}}, "input": {"search": {"request":
      {"search_type": "query_then_fetch", "indices": ["metricbeat-*"], "types": [],
      "body": {"aggs": {"result": {"top_hits": {"size": 1}}, "pods": {"cardinality":
      {"field": "kubernetes.pod.name"}}, "not_ready": {"terms": {"field": "kubernetes.pod.name",
      "min_doc_count": 12, "size": 100}}}, "query": {"bool": {"must_not": [{"match":
      {"kubernetes.pod.status.ready": "true"}}], "must": [{"regexp": {"kubernetes.pod.name":
      "nginx-[^-]+-[^-]+"}}, {"match": {"kubernetes.namespace": "disabled"}}, {"match":
      {"metricset.name": "state_pod"}}], "filter": [{"range": {"@timestamp": {"gte":
      "now-{{ctx.metadata.window}}"}}}]}}}}}}, "condition": {"compare": {"ctx.payload.aggregations.not_ready.buckets":
      {"not_eq": []}}}, "actions": {}}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: PUT
    uri: http://elasticsearch:9200/_xpack/watcher/watch/disabled.nginx
  response:
    body: {string: '{"_id":"disabled.nginx","_version":1,"created":true}'}
    headers:
      content-length: ['52']
      content-type: [application/json; charset=UTF-8]
    status: {code: 201, message: Created}
- request:
    body: '{"metadata": {"name": "test.nginx", "namespace": "test", "regex": "nginx-%5B%5E-%5D%2B-%5B%5E-%5D%2B",
      "kibana_url": "https://kibana.example.com", "kibana_dashboard": "", "docs":
      "", "xpack": {"type": "json"}, "window": "300s"}, "trigger": {"schedule": {"interval":
      "30s"}}, "input": {"search": {"request": {"search_type": "query_then_fetch",
      "indices": ["metricbeat-*"], "types": [], "body": {"aggs": {"result": {"top_hits":
      {"size": 1}}, "pods": {"cardinality": {"field": "kubernetes.pod.name"}}, "not_ready":
      {"terms": {"field": "kubernetes.pod.name", "min_doc_count": 12, "size": 100}}},
      "query": {"bool": {"must_not": [{"match": {"kubernetes.pod.status.ready": "true"}}],
      "must": [{"regexp": {"kubernetes.pod.name": "nginx-[^-]+-[^-]+"}}, {"match":
      {"kubernetes.namespace": "test"}}, {"match": {"metricset.name": "state_pod"}}],
      "filter": [{"range": {"@timestamp": {"gte": "now-{{ctx.metadata.window}}"}}}]}}}}}},
      "condition": {"compare": {"ctx.payload.aggregations.not_ready.buckets": {"not_eq":
      []}}}, "actions": {"email_admin": {"throttle_period_in_millis": 3600000, "email":
      {"profile": "standard", "subject": "{{#ctx.payload.aggregations.result.hits.hits.0._source}}{{ctx.metadata.name}}
      has {{ctx.payload.aggregations.pods.value}} not ready pod(s){{/ctx.payload.aggregations.result.hits.hits.0._source}}",
      "body": {"html": "{{#ctx.payload.aggregations.result.hits.hits.0._source}}<a
      href=\"{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))\">{{ctx.metadata.name}}</a>
      has {{ctx.payload.aggregations.pods.value}} not ready pod(s) <a href=\"{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}\">[ack]</a>{{#ctx.metadata.docs}}
      <a href=\"{{.}}\">[docs]</a>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}"},
      "to": ["michael.russell@elastic.co"]}}, "notify-slack": {"throttle_period_in_millis":
      3600000, "slack": {"message": {"text": "{{#ctx.payload.aggregations.result.hits.hits.0._source}}*<{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))|{{ctx.metadata.name}}>*
      has `{{ctx.payload.aggregations.pods.value}}` not ready pod(s) <{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}|[ack]>{{#ctx.metadata.docs}}
      <{{.}}|[docs]>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}",
      "to": ["@michael.russell"]}}}}}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: PUT
    uri: http://elasticsearch:9200/_xpack/watcher/watch/test.nginx
  response:
    body: {string: '{"_id":"test.nginx","_version":1,"created":true}'}
    headers:
      content-length: ['48']
      content-type: [application/json; charset=UTF-8]
    status: {code: 201, message: Created}
- request:
    body: '{"metadata": {"name": "test.hello", "namespace": "test", "regex": "hello-%5B%5E-%5D%2B-%5B%5E-%5D%2B",
      "kibana_url": "https://kibana.example.com", "kibana_dashboard": "", "docs":
      "", "xpack": {"type": "json"}, "window": "300s"}, "trigger": {"schedule": {"interval":
      "30s"}}, "input": {"search": {"request": {"search_type": "query_then_fetch",
      "indices": ["metricbeat-*"], "types": [], "body": {"aggs": {"result": {"top_hits":
      {"size": 1}}, "pods": {"cardinality": {"field": "kubernetes.pod.name"}}, "not_ready":
      {"terms": {"field": "kubernetes.pod.name", "min_doc_count": 12, "size": 100}}},
      "query": {"bool": {"must_not": [{"match": {"kubernetes.pod.status.phase": "running"}},
      {"match": {"kubernetes.pod.status.phase": "pending"}}], "must": [{"regexp":
      {"kubernetes.pod.name": "hello-[^-]+-[^-]+"}}, {"match": {"kubernetes.namespace":
      "test"}}, {"match": {"metricset.name": "state_pod"}}], "filter": [{"range":
      {"@timestamp": {"gte": "now-{{ctx.metadata.window}}"}}}]}}, "size": 2, "sort":
      [{"kubernetes.pod.name": {"order": "desc", "mode": "max"}}]}}}}, "condition":
      {"script": {"lang": "painless", "source": "for (h in ctx.payload.hits.hits)
      { if (h._source.kubernetes.pod.status.phase == ''succeeded'') return false;
      } return true;"}}, "actions": {"email_admin": {"throttle_period_in_millis":
      3600000, "email": {"profile": "standard", "subject": "{{#ctx.payload.aggregations.result.hits.hits.0._source}}{{ctx.metadata.name}}
      has {{ctx.payload.aggregations.pods.value}} not ready pod(s){{/ctx.payload.aggregations.result.hits.hits.0._source}}",
      "body": {"html": "{{#ctx.payload.aggregations.result.hits.hits.0._source}}<a
      href=\"{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))\">{{ctx.metadata.name}}</a>
      has {{ctx.payload.aggregations.pods.value}} not ready pod(s) <a href=\"{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}\">[ack]</a>{{#ctx.metadata.docs}}
      <a href=\"{{.}}\">[docs]</a>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}"},
      "to": ["michael.russell@elastic.co"]}}, "notify-slack": {"throttle_period_in_millis":
      3600000, "slack": {"message": {"text": "{{#ctx.payload.aggregations.result.hits.hits.0._source}}*<{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))|{{ctx.metadata.name}}>*
      has `{{ctx.payload.aggregations.pods.value}}` not ready pod(s) <{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}|[ack]>{{#ctx.metadata.docs}}
      <{{.}}|[docs]>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}",
      "to": ["@michael.russell"]}}}}}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: PUT
    uri: http://elasticsearch:9200/_xpack/watcher/watch/test.hello
  response:
    body: {string: '{"_id":"test.hello","_version":1,"created":true}'}
    headers:
      content-length: ['48']
      content-type: [application/json; charset=UTF-8]
    status: {code: 201, message: Created}
- request:
    body: '{"metadata": {"window": "300s", "subject": "No metricbeat data has been
      recieved in the last 5 minutes!", "message": "No metricbeat data has been recieved
      in the last 5 minutes! <https://kibana.example.com|kibana>"}, "trigger": {"schedule":
      {"interval": "60s"}}, "input": {"search": {"request": {"search_type": "query_then_fetch",
      "indices": ["metricbeat-*"], "types": [], "body": {"query": {"bool": {"must":
      [{"match": {"metricset.name": "state_pod"}}], "filter": [{"range": {"@timestamp":
      {"gte": "now-{{ctx.metadata.window}}"}}}]}}}}}}, "condition": {"compare": {"ctx.payload.hits.total":
      {"eq": 0}}}, "actions": {"email_admin": {"throttle_period_in_millis": 3600000,
      "email": {"profile": "standard", "subject": "{{ctx.metadata.subject}}", "body":
      {"text": "{{ctx.metadata.message}}"}, "to": ["michael.russell@elastic.co"]}},
      "notify-slack": {"throttle_period_in_millis": 3600000, "slack": {"message": {"text":
      "{{ctx.metadata.message}}", "to": ["@michael.russell"]}}}}}'
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: PUT
    uri: http://elasticsearch:9200/_xpack/watcher/watch/metricbeat
  response:
    body: {string: '{"_id":"metricbeat","_version":1,"created":true}'}
    headers:
      content-length: ['48']
      content-type: [application/json; charset=UTF-8]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      connection: [keep-alive]
      content-type: [application/json]
    method: GET
    uri: http://elasticsearch:9200/.watches/_search?size=1000
  response:
    body: {string: '{"took":2,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":4,"max_score":1.0,"hits":[{"_index":".watches","_type":"doc","_id":"disabled.nginx","_score":1.0,"_source":{"trigger":{"schedule":{"interval":"30s"}},"input":{"search":{"request":{"search_type":"query_then_fetch","indices":["metricbeat-*"],"types":[],"body":{"aggs":{"result":{"top_hits":{"size":1}},"pods":{"cardinality":{"field":"kubernetes.pod.name"}},"not_ready":{"terms":{"field":"kubernetes.pod.name","min_doc_count":12,"size":100}}},"query":{"bool":{"must_not":[{"match":{"kubernetes.pod.status.ready":"true"}}],"must":[{"regexp":{"kubernetes.pod.name":"nginx-[^-]+-[^-]+"}},{"match":{"kubernetes.namespace":"disabled"}},{"match":{"metricset.name":"state_pod"}}],"filter":[{"range":{"@timestamp":{"gte":"now-{{ctx.metadata.window}}"}}}]}}}}}},"condition":{"compare":{"ctx.payload.aggregations.not_ready.buckets":{"not_eq":[]}}},"actions":{},"metadata":{"regex":"nginx-%5B%5E-%5D%2B-%5B%5E-%5D%2B","docs":"","name":"disabled.nginx","namespace":"disabled","window":"300s","kibana_url":"https://kibana.example.com","kibana_dashboard":"","xpack":{"type":"json"}},"status":{"state":{"active":true,"timestamp":"2018-11-21T11:15:56.258Z"},"actions":{},"headers":{"_xpack_security_authentication":"l6PxAgAHZWxhc3RpYwEJc3VwZXJ1c2VyCgEJX3Jlc2VydmVkBQEAAAEAB01fWHU2YmkIcmVzZXJ2ZWQIcmVzZXJ2ZWQA"},"version":-1}}},{"_index":".watches","_type":"doc","_id":"test.nginx","_score":1.0,"_source":{"trigger":{"schedule":{"interval":"30s"}},"input":{"search":{"request":{"search_type":"query_then_fetch","indices":["metricbeat-*"],"types":[],"body":{"aggs":{"result":{"top_hits":{"size":1}},"pods":{"cardinality":{"field":"kubernetes.pod.name"}},"not_ready":{"terms":{"field":"kubernetes.pod.name","min_doc_count":12,"size":100}}},"query":{"bool":{"must_not":[{"match":{"kubernetes.pod.status.ready":"true"}}],"must":[{"regexp":{"kubernetes.pod.name":"nginx-[^-]+-[^-]+"}},{"match":{"kubernetes.namespace":"test"}},{"match":{"metricset.name":"state_pod"}}],"filter":[{"range":{"@timestamp":{"gte":"now-{{ctx.metadata.window}}"}}}]}}}}}},"condition":{"compare":{"ctx.payload.aggregations.not_ready.buckets":{"not_eq":[]}}},"actions":{"email_admin":{"throttle_period_in_millis":3600000,"email":{"profile":"standard","to":["michael.russell@elastic.co"],"subject":"{{#ctx.payload.aggregations.result.hits.hits.0._source}}{{ctx.metadata.name}}
        has {{ctx.payload.aggregations.pods.value}} not ready pod(s){{/ctx.payload.aggregations.result.hits.hits.0._source}}","body":{"html":"{{#ctx.payload.aggregations.result.hits.hits.0._source}}<a
        href=\"{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))\">{{ctx.metadata.name}}</a>
        has {{ctx.payload.aggregations.pods.value}} not ready pod(s) <a href=\"{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}\">[ack]</a>{{#ctx.metadata.docs}}
        <a href=\"{{.}}\">[docs]</a>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}"}}},"notify-slack":{"throttle_period_in_millis":3600000,"slack":{"message":{"to":["@michael.russell"],"text":"{{#ctx.payload.aggregations.result.hits.hits.0._source}}*<{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))|{{ctx.metadata.name}}>*
        has `{{ctx.payload.aggregations.pods.value}}` not ready pod(s) <{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}|[ack]>{{#ctx.metadata.docs}}
        <{{.}}|[docs]>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}"}}}},"metadata":{"regex":"nginx-%5B%5E-%5D%2B-%5B%5E-%5D%2B","docs":"","name":"test.nginx","namespace":"test","window":"300s","kibana_url":"https://kibana.example.com","kibana_dashboard":"","xpack":{"type":"json"}},"status":{"state":{"active":true,"timestamp":"2018-11-21T11:15:56.550Z"},"actions":{"email_admin":{"ack":{"timestamp":"2018-11-21T11:15:56.550Z","state":"awaits_successful_execution"}},"notify-slack":{"ack":{"timestamp":"2018-11-21T11:15:56.550Z","state":"awaits_successful_execution"}}},"headers":{"_xpack_security_authentication":"l6PxAgAHZWxhc3RpYwEJc3VwZXJ1c2VyCgEJX3Jlc2VydmVkBQEAAAEAB01fWHU2YmkIcmVzZXJ2ZWQIcmVzZXJ2ZWQA"},"version":-1}}},{"_index":".watches","_type":"doc","_id":"test.hello","_score":1.0,"_source":{"trigger":{"schedule":{"interval":"30s"}},"input":{"search":{"request":{"search_type":"query_then_fetch","indices":["metricbeat-*"],"types":[],"body":{"aggs":{"result":{"top_hits":{"size":1}},"pods":{"cardinality":{"field":"kubernetes.pod.name"}},"not_ready":{"terms":{"field":"kubernetes.pod.name","min_doc_count":12,"size":100}}},"query":{"bool":{"must_not":[{"match":{"kubernetes.pod.status.phase":"running"}},{"match":{"kubernetes.pod.status.phase":"pending"}}],"must":[{"regexp":{"kubernetes.pod.name":"hello-[^-]+-[^-]+"}},{"match":{"kubernetes.namespace":"test"}},{"match":{"metricset.name":"state_pod"}}],"filter":[{"range":{"@timestamp":{"gte":"now-{{ctx.metadata.window}}"}}}]}},"size":2,"sort":[{"kubernetes.pod.name":{"order":"desc","mode":"max"}}]}}}},"condition":{"script":{"source":"for
        (h in ctx.payload.hits.hits) { if (h._source.kubernetes.pod.status.phase ==
        ''succeeded'') return false; } return true;","lang":"painless"}},"actions":{"email_admin":{"throttle_period_in_millis":3600000,"email":{"profile":"standard","to":["michael.russell@elastic.co"],"subject":"{{#ctx.payload.aggregations.result.hits.hits.0._source}}{{ctx.metadata.name}}
        has {{ctx.payload.aggregations.pods.value}} not ready pod(s){{/ctx.payload.aggregations.result.hits.hits.0._source}}","body":{"html":"{{#ctx.payload.aggregations.result.hits.hits.0._source}}<a
        href=\"{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))\">{{ctx.metadata.name}}</a>
        has {{ctx.payload.aggregations.pods.value}} not ready pod(s) <a href=\"{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}\">[ack]</a>{{#ctx.metadata.docs}}
        <a href=\"{{.}}\">[docs]</a>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}"}}},"notify-slack":{"throttle_period_in_millis":3600000,"slack":{"message":{"to":["@michael.russell"],"text":"{{#ctx.payload.aggregations.result.hits.hits.0._source}}*<{{ctx.metadata.kibana_url}}/app/kibana#/discover?_a=(columns:!(_source),filters:!((''$state'':(store:appState),meta:(alias:!n,disabled:!f,index:''metricbeat-*'',key:query,negate:!f,type:custom,value:''''),query:(bool:(must:!((regexp:(kubernetes.pod.name:''{{ctx.metadata.regex}}'')),(match:(metricset.name:''state_pod'')),(match:(kubernetes.namespace:{{ctx.metadata.namespace}}))))))),index:''metricbeat-*'',interval:auto,query:(language:lucene,query:''''),regexp:(language:lucene,query:''kubernetes.pod.name:test-nginx-%5B%5E-%5D%20-%5B%5E-%5D%20''),sort:!(''@timestamp'',desc),time:(from:now%2FM,mode:quick,to:now%2FM))&_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,mode:quick,to:now))|{{ctx.metadata.name}}>*
        has `{{ctx.payload.aggregations.pods.value}}` not ready pod(s) <{{ctx.metadata.kibana_url}}/app/kibana#/management/elasticsearch/watcher/watches/watch/{{ctx.metadata.name}}|[ack]>{{#ctx.metadata.docs}}
        <{{.}}|[docs]>{{/ctx.metadata.docs}}{{/ctx.payload.aggregations.result.hits.hits.0._source}}"}}}},"metadata":{"regex":"hello-%5B%5E-%5D%2B-%5B%5E-%5D%2B","docs":"","name":"test.hello","namespace":"test","window":"300s","kibana_url":"https://kibana.example.com","kibana_dashboard":"","xpack":{"type":"json"}},"status":{"state":{"active":true,"timestamp":"2018-11-21T11:15:56.679Z"},"actions":{"email_admin":{"ack":{"timestamp":"2018-11-21T11:15:56.679Z","state":"awaits_successful_execution"}},"notify-slack":{"ack":{"timestamp":"2018-11-21T11:15:56.679Z","state":"awaits_successful_execution"}}},"headers":{"_xpack_security_authentication":"l6PxAgAHZWxhc3RpYwEJc3VwZXJ1c2VyCgEJX3Jlc2VydmVkBQEAAAEAB01fWHU2YmkIcmVzZXJ2ZWQIcmVzZXJ2ZWQA"},"version":-1}}},{"_index":".watches","_type":"doc","_id":"metricbeat","_score":1.0,"_source":{"trigger":{"schedule":{"interval":"60s"}},"input":{"search":{"request":{"search_type":"query_then_fetch","indices":["metricbeat-*"],"types":[],"body":{"query":{"bool":{"must":[{"match":{"metricset.name":"state_pod"}}],"filter":[{"range":{"@timestamp":{"gte":"now-{{ctx.metadata.window}}"}}}]}}}}}},"condition":{"compare":{"ctx.payload.hits.total":{"eq":0}}},"actions":{"email_admin":{"throttle_period_in_millis":3600000,"email":{"profile":"standard","to":["michael.russell@elastic.co"],"subject":"{{ctx.metadata.subject}}","body":{"text":"{{ctx.metadata.message}}"}}},"notify-slack":{"throttle_period_in_millis":3600000,"slack":{"message":{"to":["@michael.russell"],"text":"{{ctx.metadata.message}}"}}}},"metadata":{"subject":"No
        metricbeat data has been recieved in the last 5 minutes!","window":"300s","message":"No
        metricbeat data has been recieved in the last 5 minutes! <https://kibana.example.com|kibana>"},"status":{"state":{"active":true,"timestamp":"2018-11-21T11:15:56.773Z"},"actions":{"email_admin":{"ack":{"timestamp":"2018-11-21T11:15:56.773Z","state":"awaits_successful_execution"}},"notify-slack":{"ack":{"timestamp":"2018-11-21T11:15:56.773Z","state":"awaits_successful_execution"}}},"headers":{"_xpack_security_authentication":"l6PxAgAHZWxhc3RpYwEJc3VwZXJ1c2VyCgEJX3Jlc2VydmVkBQEAAAEAB01fWHU2YmkIcmVzZXJ2ZWQIcmVzZXJ2ZWQA"},"version":-1}}}]}}'}
    headers:
      content-length: ['11267']
      content-type: [application/json; charset=UTF-8]
    status: {code: 200, message: OK}
version: 1
